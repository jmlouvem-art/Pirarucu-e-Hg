<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Pirarucu Aventureiro</title>

<link rel="icon" type="image/png" href="logo 2.png" sizes="32x32">
<link rel="apple-touch-icon" href="logo 2.png">
<meta name="theme-color" content="#f59e0b">
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">

<style>
Â  html, body {
Â  Â  margin: 0;
Â  Â  padding: 0;
Â  Â  overflow: hidden;
Â  Â  height: 100%;
Â  Â  width: 100%;
Â  Â  font-family: 'Nunito', sans-serif;
Â  Â  background-color: #0c4a6e;
Â  }

Â  #game-container {
Â  Â  position: fixed;
Â  Â  inset: 0;
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  background-color: #0c4a6e;
Â  }

Â  canvas {
Â  Â  display: block;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  background-size: cover;
Â  Â  background-position: center;
Â  }

Â  /* Fundo por orientaÃ§Ã£o */
Â  @media (orientation: landscape) {
Â  Â  canvas, .modal-water { background-image: url('Fundo pc.png'); }
Â  }
Â  @media (orientation: portrait) {
Â  Â  canvas, .modal-water { background-image: url('Fundo do Lago.png'); }
Â  }

Â  .modal { transition: opacity .3s ease-in-out; }
Â  .particle { position: absolute; pointer-events: none; width: 5px; height: 5px; border-radius: 50%; animation: fade 1s forwards; }
Â  @keyframes fade { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(.5) translateY(-50px); } }
</style>
</head>

<body>

<div id="name-modal" class="modal fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-[120]">
Â  <div class="rounded-lg p-6 text-center shadow-xl max-w-sm w-full bg-cover bg-center modal-water">
Â  Â  <div class="bg-white bg-opacity-80 p-4 shadow-md">
Â  Â  Â  <div class="flex justify-center mb-4"><img src="logo 2.png" class="w-[210px] h-auto shadow-lg" alt=""></div>
Â  Â  Â  <h2 class="text-2xl font-bold mb-4">ğŸŸ Bem-vindo!</h2>
Â  Â  Â  <p class="mb-4">Digite seu nome para comeÃ§ar:</p>
Â  Â  Â  <input id="player-name-input" class="border-2 border-blue-500 rounded-lg px-4 py-2 w-full mb-4 text-center" maxlength="20" placeholder="Seu nome" autofocus>
Â  Â  Â  <button id="name-submit-button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full mb-2">Continuar</button>
Â  Â  Â  <button id="view-ranking-name-modal" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg w-full mb-2">Ver Ranking</button>
Â  Â  </div>
Â  </div>
</div>

<div id="game-container" class="hidden">
Â  Â  <div class="p-3 bg-blue-200/80 text-gray-800 flex justify-between items-center z-20">
Â  Â  <div class="flex items-center gap-2">
Â  Â  Â  <img src="logo 2.png" class="w-8 h-8 object-contain" alt="">
Â  Â  Â  <div>
Â  Â  Â  Â  <h1 class="text-lg font-bold">Pirarucu Aventureiro</h1>
Â  Â  Â  Â  <div class="text-xs">Jogador: <span id="player-name-display" class="font-bold">-</span></div>
Â  Â  Â  Â  <div class="text-xs">NÃ­vel: <span id="level">1</span></div>
Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <div class="text-right">
Â  Â  Â  <div class="font-bold">Pontos: <span id="score">0</span></div>
Â  Â  Â  <div class="text-xs">Recorde: <span id="high-score">0</span></div>
Â  Â  </div>
Â  </div>

Â  Â  <div class="flex-1 relative overflow-hidden">
Â  Â  <canvas id="gameCanvas" class="absolute inset-0 w-full h-full"></canvas>
Â  </div>

Â  Â  <div class="absolute top-24 right-3 w-12 text-center z-20 pointer-events-none">
Â  Â  <div class="text-white text-sm font-bold mb-1">Hg</div>
Â  Â  <div class="relative h-64 w-6 bg-white bg-opacity-30 rounded-full overflow-hidden mx-auto border-2 border-white/50">
Â  Â  Â  <div id="mercury-bar" class="absolute bottom-0 w-full bg-red-600 transition-all duration-300" style="height:0%;"></div>
Â  Â  </div>
Â  Â  <div class="text-white text-xs mt-1"><span id="mercury-percent">0</span>%</div>
Â  </div>

Â  <div id="game-message"
Â  Â  Â  Â class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-3xl font-bold z-30 opacity-0 pointer-events-none text-center drop-shadow-lg">
Â  </div>
</div>

<div id="start-modal" class="modal fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-[120] hidden opacity-0">
Â  <div class="bg-white rounded-lg p-6 text-center shadow-xl w-full max-w-md mx-auto">
Â  Â  <img src="logo 2.png" class="mx-auto mb-4 w-40 h-auto shadow" alt="">
Â  Â  <h2 class="text-2xl font-bold mb-2">ğŸŸ Pirarucu Aventureiro</h2>
Â  Â  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-left mb-4">
Â  Â  Â  <p class="font-bold text-green-600">ğŸŸ¢ Peixes Seguros:<br>Tambaqui, Pacu, AruanÃ£</p>
Â  Â  Â  <p class="font-bold text-red-600">ğŸ”´ Contaminados:<br>TucunarÃ©, Surubim, Piranha</p>
Â  Â  </div>
Â  Â  <p class="mb-3 text-sm">Colete peixes seguros e evite os contaminados!</p>
Â  Â  <p class="mb-6 text-sm">Arraste o dedo ou o mouse para mover o Pirarucu.</p>
Â  Â  <button id="start-button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full">ComeÃ§ar</button>
Â  </div>
</div>

<div id="game-over-modal" class="modal fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-[120] hidden opacity-0">
Â  <div class="bg-white rounded-lg p-6 text-center shadow-xl max-w-sm">
Â  Â  <h2 class="text-2xl font-bold mb-2 text-red-600">Fim de Jogo</h2>
Â  Â  <p>Jogador: <span id="final-player-name" class="font-bold">-</span></p>
Â  Â  <p>PontuaÃ§Ã£o: <span id="final-score" class="font-bold text-blue-600">0</span></p>
Â  Â  <p>NÃ­vel: <span id="final-level" class="font-bold">1</span></p>
Â  Â  <button id="restart-button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full mb-2">Jogar Novamente</button>
Â  Â  <button id="view-ranking-button" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg w-full mb-2">Ver Ranking</button>
Â  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
Â  const canvas = document.getElementById("gameCanvas"),
Â  Â  Â  Â  ctx = canvas.getContext("2d");
Â  const scoreEl = document.getElementById("score"),
Â  Â  Â  Â  levelEl = document.getElementById("level"),
Â  Â  Â  Â  mercuryBarEl = document.getElementById("mercury-bar"),
Â  Â  Â  Â  mercuryPercentEl = document.getElementById("mercury-percent"),
Â  Â  Â  Â  nameModal = document.getElementById("name-modal"),
Â  Â  Â  Â  startModal = document.getElementById("start-modal"),
Â  Â  Â  Â  gameOverModal = document.getElementById("game-over-modal"),
Â  Â  Â  Â  nameSubmitButton = document.getElementById("name-submit-button"),
Â  Â  Â  Â  playerNameInput = document.getElementById("player-name-input"),
Â  Â  Â  Â  startButton = document.getElementById("start-button"),
Â  Â  Â  Â  restartButton = document.getElementById("restart-button"),
Â  Â  Â  Â  viewRankingButton = document.getElementById("view-ranking-button"),
Â  Â  Â  Â  viewRankingNameModal = document.getElementById("view-ranking-name-modal"), // NOVO
Â  Â  Â  Â  playerNameDisplay = document.getElementById("player-name-display");

Â  let playerName = "", player, score = 0, level = 1, mercury = 0, fish = [], gameRunning = false;

Â  function resizeCanvas() {
Â  Â  canvas.width = window.innerWidth;
Â  Â  canvas.height = window.innerHeight;
Â  }
Â  window.addEventListener("resize", resizeCanvas);
Â  resizeCanvas();

Â  const fishData = [
Â  Â  { name: "Tambaqui", points: 10, mercury: 0, color: "#0f0" },
Â  Â  { name: "Pacu", points: 10, mercury: 0, color: "#0f0" },
Â  Â  { name: "AruanÃ£", points: 15, mercury: 0, color: "#0f0" },
Â  Â  { name: "Castanha", points: 20, mercury: -10, color: "#ff0" },
Â  Â  { name: "TucunarÃ©", points: -5, mercury: 25, color: "#f00" },
Â  Â  { name: "Surubim", points: -5, mercury: 30, color: "#f00" },
Â  Â  { name: "Piranha", points: -5, mercury: 20, color: "#f00" }
Â  ];

Â  const fishImages = {
Â  Â  'AruanÃ£': new Image(),
Â  Â  'Castanha': new Image(),
Â  Â  'Pacu': new Image(),
Â  Â  'Piranha': new Image(),
Â  Â  'Surubim': new Image(),
Â  Â  'Tambaqui': new Image(),
Â  Â  'TucunarÃ©': new Image()
Â  };

Â  fishImages['AruanÃ£'].src = 'Aruana.png';
Â  fishImages['Castanha'].src = 'Castanha.png';
Â  fishImages['Pacu'].src = 'Pacu.png';
Â  fishImages['Piranha'].src = 'Piranha.png';
Â  fishImages['Surubim'].src = 'Surubim.png';
Â  fishImages['Tambaqui'].src = 'Tambaqui.png';
Â  fishImages['TucunarÃ©'].src = 'Tucunare.png';

Â  player = { x: window.innerWidth / 2, y: window.innerHeight - 120, w: 160, h: 160, targetX: window.innerWidth / 2 };

Â  const img = new Image();
Â  img.src = "pirarucu m.png";

Â  function drawPlayer() {
Â  Â  if (img.complete) ctx.drawImage(img, player.x - player.w / 2, player.y - player.h / 2, player.w, player.h);
Â  }

Â  let fishSpawnRate = 0.02;Â Â 
Â  let fishSpeed = 2 + level * 0.2;
Â  let castanhaChance = 0.05;

Â  function createFish() {
Â  Â  if (Math.random() < fishSpawnRate) {
Â  Â  Â  const isCastanha = Math.random() < castanhaChance;
Â  Â  Â  const d = isCastanha ? fishData.find(f => f.name === 'Castanha') : fishData[Math.floor(Math.random() * fishData.length)];

Â  Â  Â  fish.push({ x: Math.random() * canvas.width, y: -50, dy: fishSpeed, data: d });

Â  Â  Â  castanhaChance = Math.max(0.01, castanhaChance - 0.005 * level);Â Â 
Â  Â  }
Â  }

Â  function drawFish(f) {
Â  Â  // AUMENTO DO TAMANHO: O raio base agora Ã© 60 (era 45)
Â  Â  const fishRadius = 60;
Â  Â  const haloRadius = 75; // Halo estende-se para 75 (era 60)

Â  Â  ctx.fillStyle = f.data.color;
Â  Â  ctx.beginPath();
Â  Â  ctx.arc(f.x, f.y, fishRadius, 0, Math.PI * 2);Â Â 
Â  Â  ctx.fill();

Â  Â  // Halo com gradiente transparente
Â  Â  ctx.save();
Â  Â  const gradient = ctx.createRadialGradient(f.x, f.y, fishRadius, f.x, f.y, haloRadius);
Â  Â  const haloColor = f.data.color;
Â  Â  gradient.addColorStop(0, haloColor);
Â  Â  gradient.addColorStop(1, 'rgba(0, 0, 0, 0)'); // Totalmente transparente
Â  Â  ctx.fillStyle = gradient;
Â  Â  ctx.beginPath();
Â  Â  ctx.arc(f.x, f.y, haloRadius, 0, Math.PI * 2); 
Â  Â  ctx.fill();
Â  Â  ctx.restore();

Â  Â  // Desenha a imagem do peixe (120x120 pixels)
Â  Â  const img = fishImages[f.data.name];
Â  Â  if (img && img.complete && img.naturalWidth > 0) {
Â  Â  Â  ctx.drawImage(img, f.x - fishRadius, f.y - fishRadius, fishRadius * 2, fishRadius * 2);Â Â 
Â  Â  }
Â  }

Â  function checkCollision(f) {
Â  Â  // NOVO LIMITE DE COLISÃƒO: Aumentado para 110 (era 90)
Â  Â  const dx = f.x - player.x, dy = f.y - player.y, dist = Math.sqrt(dx * dx + dy * dy);
Â  Â  return dist < 110;
Â  }

Â  function showMessage(msg, color) {
Â  Â  const el = document.getElementById("game-message");
Â  Â  el.textContent = msg;
Â  Â  el.style.color = color;
Â  Â  el.style.opacity = 1;
Â  Â  setTimeout(() => el.style.opacity = 0, 1000);
Â  }

Â  function loop() {
Â  Â  if (!gameRunning) return;
Â  Â  ctx.clearRect(0, 0, canvas.width, canvas.height);
Â  Â  player.x += (player.targetX - player.x) * 0.1;
Â  Â  drawPlayer();
Â  Â  fish.forEach(f => {
Â  Â  Â  f.y += f.dy;
Â  Â  Â  drawFish(f);
Â  Â  Â  if (checkCollision(f)) {
Â  Â  Â  Â  score += f.data.points;
Â  Â  Â  Â  mercury = Math.max(0, Math.min(100, mercury + f.data.mercury));
Â  Â  Â  Â  showMessage(`${f.data.points > 0 ? '+' : ''}${f.data.points} pts`, f.data.mercury > 0 ? "#f00" : "#0f0");
Â  Â  Â  Â  fish.splice(fish.indexOf(f), 1);
Â  Â  Â  Â  if (mercury >= 100) endGame();
Â  Â  Â  }
Â  Â  });
Â  Â  createFish();Â Â 
Â  Â  mercuryBarEl.style.height = mercury + "%";
Â  Â  mercuryPercentEl.textContent = mercury;
Â  Â  scoreEl.textContent = score;
Â  Â  if (score >= level * 100) levelUp();
Â  Â  requestAnimationFrame(loop);
Â  }

Â  function startGame() {
Â  Â  score = 0;
Â  Â  level = 1;
Â  Â  mercury = 0;
Â  Â  fish = [];
Â  Â  gameRunning = true;
Â  Â  startModal.classList.add("hidden");
Â  Â  resizeCanvas();
Â  Â  loop();
Â  }

Â  function levelUp() {
Â  Â  level++;
Â  Â  levelEl.textContent = level;
Â  Â  fishSpeed = 2 + level * 0.2;
Â  Â  showMessage(`NÃ­vel ${level}!`, "#0f0");
Â  }

Â  function endGame() {
Â  Â  gameRunning = false;
Â  Â  document.getElementById("final-score").textContent = score;
Â  Â  document.getElementById("final-level").textContent = level;
Â  Â  document.getElementById("final-player-name").textContent = playerName;
Â  Â  gameOverModal.classList.remove("hidden");
Â  Â  gameOverModal.style.opacity = 1;
Â  Â  saveRanking();
Â  }

Â  function saveRanking() {
Â  Â  const ranking = JSON.parse(localStorage.getItem('ranking') || '[]');
Â  Â  ranking.push({ name: playerName, score, level });
Â  Â  ranking.sort((a, b) => b.score - a.score);
Â  Â  localStorage.setItem('ranking', JSON.stringify(ranking.slice(0, 10)));
Â  }
Â  
Â  // LÃ“GICA DO BOTÃƒO VER RANKING (REUTILIZADA)
Â  const displayRanking = () => {
Â  Â  const ranking = JSON.parse(localStorage.getItem('ranking') || '[]');
Â  Â  alert(ranking.map((entry, index) => `${index + 1}. ${entry.name} - ${entry.score} pontos (NÃ­vel ${entry.level})`).join("\n"));
Â  };

Â  viewRankingButton.onclick = displayRanking;
Â  viewRankingNameModal.onclick = displayRanking; // NOVO: BotÃ£o no modal de nome

Â  canvas.addEventListener("mousemove", e => player.targetX = e.clientX);
Â  canvas.addEventListener("touchmove", e => {
Â  Â  const t = e.touches[0];
Â  Â  if (t) player.targetX = t.clientX;
Â  });

Â  nameSubmitButton.onclick = () => {
Â  Â  const n = playerNameInput.value.trim();
Â  Â  if (!n) { alert("Digite seu nome!"); return; }
Â  Â  playerName = n;
Â  Â  playerNameDisplay.textContent = n;
Â  Â  nameModal.classList.add("hidden");
Â  Â  startModal.classList.remove("hidden");
Â  Â  startModal.style.opacity = 1;
Â  };

Â  playerNameInput.addEventListener("keydown", e => {
Â  Â  if (e.key === "Enter") nameSubmitButton.click();
Â  });

Â  startButton.onclick = startGame;
Â  restartButton.onclick = () => {
Â  Â  gameOverModal.classList.add("hidden");
Â  Â  startGame();
Â  };
});
</script>

</body>
</html>
